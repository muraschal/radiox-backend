<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ show_title }} ‚Äì Your Radio, Just Got Smarter.</title>
    <meta name="description" content="AI-generated. Enterprise quality. Zero compromise. It's the future, and it's loud.">
    <meta name="keywords" content="RadioX, AI Radio, Z√ºrich, Intelligent Radio, Smart Radio, AI-generated content">
    <meta name="author" content="RadioX AI">
    <meta property="og:title" content="{{ show_title }} ‚Äì Your Radio, Just Got Smarter.">
    <meta property="og:description" content="AI-generated. Enterprise quality. Zero compromise. It's the future, and it's loud.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://radiox.ai">
    <meta property="og:image" content="{{ cover_filename }}">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ show_title }} ‚Äì Your Radio, Just Got Smarter.">
    <meta name="twitter:description" content="AI-generated. Enterprise quality. Zero compromise. It's the future, and it's loud.">
    <meta name="twitter:image" content="{{ cover_filename }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìª</text></svg>">
    <link rel="stylesheet" href="{{ css_file }}">
</head>
<body>
    <!-- MVP Banner -->
    <div class="mvp-banner">MVP v3.3.1</div>

    <!-- Header Section -->
    <header class="header">
        <div class="logo-container">
            <h1 class="title">Radio<span class="red-x">X</span><sup class="ai-sup">AI</sup></h1>
            <p class="subtitle">{{ show_description }}</p>
            <div class="timestamp">Generated: {{ formatted_timestamp }}</div>
        </div>
    </header>

    <!-- Audio Section -->
    {% if audio_filename %}
    <section class="audio-section">
        <div class="audio-container">
            <h2 class="section-title">üéµ Your Show</h2>
            <div class="glasmorph-player">
                <div class="player-content">
                    {% if cover_filename %}
                    <div class="cover-container">
                        <img src="{{ cover_filename }}" alt="Show Cover" class="cover-image">
                        <div class="play-overlay">
                            <div class="play-icon"></div>
                        </div>
                    </div>
                    {% endif %}
                    <div class="audio-info">
                        <h3 class="audio-title">{{ show_title }}</h3>
                        <div class="audio-meta">
                            {{ stats.gpt_words }} words ‚Ä¢ {{ stats.selected_news }} articles ‚Ä¢ AI Generated
                        </div>
                        <audio controls style="width: 100%; margin-top: 1rem;">
                            <source src="{{ audio_filename }}" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Stats Dashboard -->
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">üìä Show Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">{{ stats.selected_news }}</div>
                    <div class="stat-label">Selected News</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_news }}</div>
                    <div class="stat-label">Total Articles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_sources }}</div>
                    <div class="stat-label">Sources</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.gpt_words }}</div>
                    <div class="stat-label">GPT Words</div>
                </div>
                {% if stats.weather_temp %}
                <div class="stat-card">
                    <div class="stat-value">{{ stats.weather_temp }}</div>
                    <div class="stat-label">{{ stats.weather_location }}</div>
                </div>
                {% endif %}
                {% if stats.bitcoin_price %}
                <div class="stat-card">
                    <div class="stat-value">${{ "%.0f"|format(stats.bitcoin_price) }}</div>
                    <div class="stat-label">Bitcoin Price</div>
                </div>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Intelligence Summary -->
    {% if stats.weather_summary or stats.bitcoin_summary %}
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">üß† AI Intelligence</h2>
            <div class="stats-grid">
                {% if stats.weather_summary %}
                <div class="stat-card">
                    <div class="stat-label">Weather Intelligence</div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.9rem;">
                        {{ stats.weather_summary }}
                    </div>
                </div>
                {% endif %}
                {% if stats.bitcoin_summary %}
                <div class="stat-card">
                    <div class="stat-label">Bitcoin Intelligence</div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.9rem;">
                        {{ stats.bitcoin_summary }}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- News Articles -->
    {% if selected_news %}
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">üì∞ Selected News</h2>
            <div class="articles-grid">
                {% for article in selected_news %}
                <div class="article-card">
                    <div class="article-source">{{ article.source }}</div>
                    <h3 class="article-title">{{ article.title }}</h3>
                    {% if article.summary %}
                    <div class="article-summary">{{ article.summary|truncate(200) }}</div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Show Configuration -->
    {% if show_config %}
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">‚öôÔ∏è Show Configuration</h2>
            <div class="stats-grid">
                {% if show_config.show %}
                <div class="stat-card">
                    <div class="stat-label">Show Preset</div>
                    <div style="margin-top: 1rem; color: #667eea; font-weight: 600;">
                        {{ show_config.show.display_name }}
                    </div>
                    {% if show_config.show.description %}
                    <div style="margin-top: 0.5rem; color: rgba(255,255,255,0.7); font-size: 0.85rem;">
                        {{ show_config.show.description }}
                    </div>
                    {% endif %}
                </div>
                {% endif %}
                {% if show_config.speaker %}
                <div class="stat-card">
                    <div class="stat-label">Primary Speaker</div>
                    <div style="margin-top: 1rem; color: #667eea; font-weight: 600;">
                        {{ show_config.speaker.voice_name|title }}
                    </div>
                    {% if show_config.speaker.description %}
                    <div style="margin-top: 0.5rem; color: rgba(255,255,255,0.7); font-size: 0.85rem;">
                        {{ show_config.speaker.description }}
                    </div>
                    {% endif %}
                </div>
                {% endif %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- GPT Script Preview -->
    {% if radio_script %}
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">ü§ñ Generated Script (Full)</h2>
            <div class="stat-card">
                <div class="stat-label">Complete Radio Script</div>
                <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.9rem; line-height: 1.6; font-family: 'JetBrains Mono', monospace; white-space: pre-wrap;">
                    {{ radio_script }}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- GPT Prompts -->
    {% if gpt_prompts %}
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">üß† GPT Prompts (Human Readable)</h2>
            <div class="prompts-grid">
                {% for prompt in gpt_prompts %}
                <div class="stat-card">
                    <div class="stat-label">{{ prompt.stage }} ‚Ä¢ {{ prompt.model }}</div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.85rem; line-height: 1.5;">
                        <strong>Purpose:</strong> {{ prompt.purpose }}
                    </div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.8); font-size: 0.8rem; line-height: 1.4; font-family: 'JetBrains Mono', monospace; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; white-space: pre-wrap;">{{ prompt.prompt }}</div>
                    {% if prompt.response_summary %}
                    <div style="margin-top: 1rem; color: rgba(102, 126, 234, 0.9); font-size: 0.8rem;">
                        <strong>Response:</strong> {{ prompt.response_summary }}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Technical Info -->
    <section class="dashboard-section">
        <div class="dashboard-container">
            <h2 class="section-title">üîß Technical</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Generation</div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.9rem;">
                        RadioX v3.3.1 ‚Ä¢ Jinja2 Templates ‚Ä¢ Clean Architecture
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Timestamp</div>
                    <div style="margin-top: 1rem; color: rgba(255,255,255,0.9); font-size: 0.9rem;">
                        {{ timestamp }}
                    </div>
                </div>
            </div>
        </div>
    </section>

</body>
</html> 